{% extends "base.html" %}

{% block page_content %}

<style>
table {
	border: 1px solid black;
	border-collapse: collapse;
	width: 100%;
}
th, td {
	border: 1px solid black;
	padding: 8px; 
	text-align: left;
}
</style>

<h1>Reports Page</h1>
<p>Review reports from your budget</p>

<h3>Monthly Report for {{ month }}/{{ year }}</h3>

<!-- select month to report --> 
<form method="get">
	<label for="month">Month</lable>
	<select id="month" name="month">
		{% for m in months %}
			<option value="{{ m }}" {% if m == month %}selected{% endif %}>{{ m }}</option>
		{% endfor %}
	</select>
	<label for="year">Year:</label>
	<input type="number" id="year" name="year" value="{{ year }}">
	<button type="submit">View Report</button>
</form>

<!-- transactions tabel breakdown -->
<table>
	<thead>
		<tr>
			{% for supercat in supercategories %}
			<th>{{ supercat }}</th>
			{% endfor %}
		</tr>
	</thead>
	<tbody>
		<tr>
			<!-- this is the totals for supercategories --> 
			{% for name, value in supercat_totals_list %}
				<td>{{ value }}</td>
			{% endfor %}
		</tr>

	<tr><td></td></tr>
		
		<tr> <!-- this whole row will hold the columns for each category in each supercat -->
		{% for supercat in category_by_supercat_list %}
			<td>
			{% for cat in supercat %}	
				<p>{{ cat.0 }} : {{ cat.1 }}</p>
			{% endfor %}
			</td>
		{% endfor %}
		</tr>
	</tbody>
</table>

{% endblock page_content %}
